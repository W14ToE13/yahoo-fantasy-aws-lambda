{
  "configurations": [
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Task",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "LongRunningJobFunction"
      },
      "lambda": {
        "runtime": "python3.11", // Add the runtime property
        "payload": {
          "json": {
            "sessionId": "48a8ed9a-04c7-4567-ae1a-5d867d6fff20",
            "league_key": "454.l.29689",
            "league_id": "29689",
            "week": "1"        
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org"
        }
      }
    },
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Login",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "WebServerFunction"
      },
      "lambda": {
        "runtime": "python3.11",
        "payload": {
          "json": {
            "rawPath": "/login",
            "cookies": ["sessionId=48a8ed9a-04c7-4567-ae1a-5d867d6fff20"]
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org"
        }
      }
    },
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Analze",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "WebServerFunction"
      },
      "lambda": {
        "runtime": "python3.11",
        "payload": {
          "json": {
            "rawPath": "/api/getdata",
            "cookies": ["sessionId=48a8ed9a-04c7-4567-ae1a-5d867d6fff20"],
            "queryStringParameters": {
              "league_key": "454.l.29689",
              "league_id": "29689",
              "week": "1"
            },
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org",
          "TASK_JOB_FUNCTION_NAME": "yahoo-fantasy-task"
        }
      }
    },
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "leauges",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "WebServerFunction"
      },
      "lambda": {
        "runtime": "python3.11",
        "payload": {
          "json": {
            "rawPath": "/api/leagues",
            "cookies": ["sessionId=48a8ed9a-04c7-4567-ae1a-5d867d6fff20"]
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org"
        }
      }
    }  
  ]
}
