{
  "configurations": [
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Task",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "LongRunningJobFunction"
      },
      "lambda": {
        "runtime": "python3.11", // Add the runtime property
        "payload": {
          "json": {
            "sessionId": "e19b1ddd-23f7-4bfb-a3b2-b51db235d503",
            "league_key": "454.l.29689",
            "league_id": "29689",
            "week": "1"        
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org"
        }
      }
    },
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Login",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "WebServerFunction"
      },
      "lambda": {
        "runtime": "python3.11",
        "payload": {
          "json": {
            "rawPath": "/login",
            "cookies": ["sessionId=e19b1ddd-23f7-4bfb-a3b2-b51db235d503"]
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org"
        }
      }
    },
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Analze",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "WebServerFunction"
      },
      "api": {
        "path": "/api/analyze",
        "httpMethod": "post",
        "payload": {
          "json": {
            "league_key": "454.l.29689",
            "league_id": "29689",
            "week": "1"
          }
        },
        "querystring": "abc=def&qrs=tuv",
        "headers": {
          "cookie": "sessionId=e19b1ddd-23f7-4bfb-a3b2-b51db235d503; name2=value2; name3=value3"
        }
      }
    },
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "leauges",
      "invokeTarget": {
        "target": "template",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "WebServerFunction"
      },
      "lambda": {
        "runtime": "python3.11",
        "payload": {
          "json": {
            "rawPath": "/api/leagues",
            "cookies": ["sessionId=e19b1ddd-23f7-4bfb-a3b2-b51db235d503"]
          }
        },
        "environmentVariables": {
          "CLIENT_ID":  "dj0yJmk9VUFhM1Zab1QwT2QzJmQ9WVdrOVVVbGhNa0ZtUkRRbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTAw",
          "CLIENT_SECRET": "b387ea999b6615b308c8a67fd3ea70f778e8703a",
          "DB_SESSION_TABLE": "yahoo-fantasy-session",
          "DB_TASK_TABLE": "yahoo-fantasy-task",
          "DATA_BUCKET_NAME": "yahoo-fantasy-data",
          "BASE_URL": "https://fantasy.laohuang.org"
        }
      }
    }  
  ]
}
